{
  "dburl": "postgres://postgres:admin@10.0.2.2:5432/postgres",
  "schema_tissue": "tissue.targid",
  "schema_public": "public.targid",
  "schema_cellline": "cellline.targid",
  "index_gene": "row_number() OVER(ORDER BY ensg ASC) as _index",
  "index_cellline": "row_number() OVER(ORDER BY celllinename ASC) as _index",
  "index_tissue": "row_number() OVER(ORDER BY tissuename ASC) as _index",
  "views": {
    "cellline": {
      "idType": "Cellline",
      "columns": {
        "celllinename": { "label": "id", "type": "string" },
        "species": { "label": "species", "type": "categorical" },
        "tumortype": { "label": "tumortype", "type": "categorical" },
        "organ": { "label": "organ", "type": "categorical" },
        "gender": { "label": "gender", "type": "categorical" }
      },
      "column_query": "targidid as _id, celllinename as id, species, tumortype, organ, gender",

      "queryCategories": "SELECT DISTINCT %(col)s as cat FROM ${targid_bioinfodb.schema_cellline}_cellline WHERE %(col)s is not null and %(col)s <> ''",

      "query": [
        "SELECT ${targid_bioinfodb.index_cellline}, ${column_query} ",
        "FROM ${targid_bioinfodb.schema_cellline}_cellline t",
        "ORDER BY celllinename ASC"
      ]
    },
    "cellline_filtered": {
      "idType": "Cellline",
      "query": [
        "SELECT ${targid_bioinfodb.index_cellline}, ${targid_bioinfodb.views.cellline.column_query} ",
        "FROM ${targid_bioinfodb.schema_cellline}_cellline t WHERE species = :species"
      ],
      "arguments": ["species"]
    },
    "cellline_filtered_namedset": {
      "idType": "Cellline",
      "query": [
        "SELECT ${targid_bioinfodb.index_cellline}, ${targid_bioinfodb.views.cellline.column_query} ",
        "FROM ${targid_bioinfodb.schema_cellline}_cellline t WHERE species = :species AND targidid IN (%(ids)s)"
      ],
      "arguments": ["species"],
      "replacements": ["ids"]
    },
    "tissue": {
      "idType": "Tissue",
      "columns": {
        "tissuename": { "label": "id", "type": "string" },
        "species": { "label": "species", "type": "categorical" },
        "tumortype": { "label": "tumortype", "type": "categorical" },
        "organ": { "label": "organ", "type": "categorical" },
        "gender": { "label": "gender", "type": "categorical" }
      },
      "column_query": "targidid as _id, tissuename as id, species, tumortype, organ, gender",

      "queryCategories": "SELECT distinct %(col)s as cat FROM ${targid_bioinfodb.schema_tissue}_tissue WHERE %(col)s is not null AND %(col)s <> ''",

      "query": "SELECT ${targid_bioinfodb.index_tissue}, ${column_query} FROM ${targid_bioinfodb.schema_tissue}_tissue t"
    },
    "tissue_filtered": {
      "idType": "Tissue",
      "query": [
        "SELECT ${targid_bioinfodb.index_tissue}, ${targid_bioinfodb.views.tissue.column_query} ",
        "FROM ${targid_bioinfodb.schema_tissue}_tissue t ",
        "WHERE species = :species"
      ],
      "arguments": ["species"]
    },
    "tissue_filtered_namedset": {
      "idType": "Tissue",
      "query": [
        "SELECT ${targid_bioinfodb.index_tissue}, ${targid_bioinfodb.views.tissue.column_query} ",
        "FROM ${targid_bioinfodb.schema_tissue}_tissue t ",
        "WHERE species = :species AND targidid IN (%(ids)s)"
      ],
      "arguments": ["species"],
      "replacements": ["ids"]
    },
    "gene": {
      "idType": "Ensembl",
      "columns": {
        "ensg": { "label": "id", "type": "string" },
        "symbol": { "label": "symbol", "type": "string" },
        "species":{ "label": "species", "type": "categorical" },
        "chromosome":{ "label": "chromosome", "type": "string" },
        "strand": { "label": "strand", "type": "number" },
        "biotype": { "label": "biotype", "type": "categorical" },
        "seqregionstart": { "label": "seqregionstart", "type": "number" },
        "seqregionend": { "label": "seqregionend", "type": "number" }
      },
      "column_query": "targidid as _id, ensg as id, symbol, species, chromosome, strand, biotype, seqregionstart, seqregionend",

      "queryStats": "SELECT min(strand) as strand_min, max(strand) as strand_max, min(seqregionstart) as seqregionstart_min, max(seqregionstart) as seqregionstart_max, min(seqregionend) as seqregionend_min, max(seqregionend) as seqregionend_max FROM ${targid_bioinfodb.schema_public}_gene",
      "queryCategories": "SELECT DISTINCT %(col)s as cat FROM ${targid_bioinfodb.schema_public}_gene WHERE %(col)s is not null and %(col)s <> ''",

      "query": "SELECT ${targid_bioinfodb.index_gene}, ${column_query} FROM ${targid_bioinfodb.schema_public}_gene t ORDER BY t.symbol ASC"
    },
    "gene_filtered": {
      "idType": "Ensembl",
      "query": "SELECT ${targid_bioinfodb.index_gene}, ${targid_bioinfodb.views.gene.column_query} FROM ${targid_bioinfodb.schema_public}_gene t WHERE species = :species ORDER BY symbol ASC",
      "arguments": ["species"]
    },
    "gene_filtered_namedset": {
      "idType": "Ensembl",
      "query": "SELECT ${targid_bioinfodb.index_gene}, ${targid_bioinfodb.views.gene.column_query} FROM ${targid_bioinfodb.schema_public}_gene t WHERE species = :species AND targidid IN (%(ids)s) ORDER BY symbol ASC",
      "arguments": ["species"],
      "replacements": ["ids"]
    },
    "gene_map_ensgs": {
      "idType": "Ensembl",
      "query": "SELECT targidid as _id, ensg as id, symbol FROM ${targid_bioinfodb.schema_public}_gene WHERE ensg IN (%(ensgs)s) AND species = :species ORDER BY symbol ASC",
      "arguments": ["species"],
      "replacements": ["ensgs"]
    },
    "enrichment": {
      "idType": "Ensembl",
      "query": [
        "SELECT cn.targidid as _id, cn.ensg as id, symbol, 2*pow(2, max(cnv)) as score ",
        "FROM %(schema)s.targid_copynumber copynumberclass ",
        "JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = cn.ensg ",
        "WHERE cnv > ( ",
        "SELECT max(cnv) FROM %(schema)s.targid_copynumber ab ",
        "INNER JOIN %(schema)s.targid_%(table_name)s b ON b.%(entity_name)s = ab.%(entity_name)s ",
        "WHERE ab.cn = :cn AND b.tumortype = :tumortype AND ab.ensg = :ensg ",
        ") GROUP BY cn.ensg, symbol"
      ],
      "arguments": ["ensg", "cn", "tumortype"],
      "replacements": ["schema", "table_name", "entity_name"]
    },
    "enrichment_all": {
      "idType": "Ensembl",
      "query": [
        "SELECT cn.targidid as _id, cn.ensg as id, symbol, 2*pow(2, max(cnv)) as score ",
        "FROM %(schema)s.targid_copynumber copynumberclass ",
        "JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = cn.ensg ",
        "WHERE cnv > ( ",
        "SELECT max(cnv) FROM %(schema)s.targid_copynumber ab ",
        "INNER JOIN %(schema)s.targid_%(table_name)s b ON b.%(entity_name)s = ab.%(entity_name)s ",
        "WHERE ab.cn = :cn AND ab.ensg = :ensg ",
        ") GROUP BY cn.ensg, symbol"
      ],
      "arguments": ["ensg", "cn"],
      "replacements": ["schema", "table_name", "entity_name"]
    },
    "onco_print_sample_list": {
      "idType": "Tissue",
      "query": [
        "SELECT d.targidid as _id, d.%(entity_name)s as id ",
        "FROM %(schema)s.targid_%(table_name)s d",
        "WHERE d.tumortype = :tumortype AND d.species = :species"
      ],
      "arguments": ["tumortype", "species"],
      "replacements": ["schema", "table_name", "entity_name"]
    },
    "onco_print_sample_list_all": {
      "idType": "Tissue",
      "query": [
        "SELECT d.targidid as _id, d.%(entity_name)s as id ",
        "FROM %(schema)s.targid_%(table_name)s d",
        "WHERE d.species = :species"
      ],
      "arguments": ["species"],
      "replacements": ["schema", "table_name", "entity_name"]
    },
    "onco_print": {
      "idType": "Tissue",
      "query": [
        "SELECT g.targidid as _id, d.ensg as id, d.%(entity_name)s as name, copynumberclass as cn, d.tpm as expr, d.dna_mutated, g.symbol ",
        "FROM %(schema)s.targid_data d ",
        "INNER JOIN %(schema)s.targid_%(table_name)s c ON d.%(entity_name)s = c.%(entity_name)s ",
        "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON d.ensg = g.ensg ",
        "WHERE c.tumortype = :tumortype AND d.ensg in (%(ensgs)s) AND c.species = :species"
      ],
      "replacements": ["schema", "table_name", "entity_name", "ensgs"],
      "arguments": ["tumortype", "species"]
    },
    "onco_print_all": {
      "idType": "Tissue",
      "query": [
        "SELECT g.targidid as _id, d.ensg as id, d.%(entity_name)s as name, copynumberclass as cn, d.tpm as expr, d.dna_mutated, g.symbol ",
        "FROM %(schema)s.targid_data d ",
        "INNER JOIN %(schema)s.targid_%(table_name)s c ON d.%(entity_name)s = c.%(entity_name)s ",
        "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON d.ensg = g.ensg ",
        "WHERE d.ensg in (%(ensgs)s) AND c.species = :species"
      ],
      "arguments": ["species"],
      "replacements": ["schema", "table_name", "entity_name", "ensgs"]
    },
    "row": {
      "idType": "Tissue",
      "query": [
        "SELECT b.targidid as _id, b.%(entity_name)s as id, * ",
        "FROM %(schema)s.targid_%(table_name)s b ",
        "WHERE b.%(entity_name)s IN (%(entities)s)"
      ],
      "replacements": ["schema", "table_name", "entity_name", "entities"]
    },
    "raw_data_table": {
      "idType": "Tissue",
      "query": [
        "SELECT b.targidid as _id, b.%(entity_name)s as id, b.species, b.organ, b.tumortype, b.gender ",
        "FROM %(schema)s.targid_%(schema)s b ",
        "WHERE b.tumortype = :tumortype AND b.species = :species"
      ],
      "replacements": ["schema", "table_name", "entity_name", "data_subtype"],
      "arguments": ["tumortype", "species"]
    },
    "raw_data_table_all": {
      "idType": "Tissue",
      "query": [
        "SELECT b.targidid as _id, b.%(entity_name)s as id, b.species, b.organ, b.tumortype, b.gender ",
        "FROM %(schema)s.targid_%(schema)s b ",
        "WHERE b.species = :species"
      ],
      "replacements": ["schema", "table_name", "entity_name", "data_subtype"],
      "arguments": ["species"]
    },
    "raw_data_table_column": {
      "idType": "Tissue",
      "query": [
        "SELECT b.targidid as _id, b.%(entity_name)s as id, %(data_subtype)s as score ",
        "FROM %(schema)s.targid_%(schema)s b ",
        "INNER JOIN %(schema)s.targid_%(table_name)s ab ON b.%(entity_name)s = ab.%(entity_name)s ",
        "WHERE ab.ensg = :ensg"
      ],
      "replacements": ["schema", "table_name", "entity_name", "data_subtype"],
      "arguments": ["ensg"]
    },
    "raw_data_table_inverted": {
      "idType": "Ensembl",
      "query": [
        "SELECT b.targidid as _id, b.ensg as id, b.symbol, b.species, b.strand, b.chromosome, b.biotype, b.seqregionstart, b.seqregionend ",
        "FROM ${targid_bioinfodb.schema_public}_gene b ",
        "WHERE b.biotype = :biotype AND b.species = :species"
      ],
      "replacements": ["schema", "table_name", "entity_name", "data_subtype"],
      "arguments": ["biotype", "species"]
    },
    "raw_data_table_inverted_all": {
      "idType": "Ensembl",
      "query": [
        "SELECT b.targidid as _id, b.ensg as id, b.symbol, b.species, b.strand, b.chromosome, b.biotype, b.seqregionstart, b.seqregionend ",
        "FROM ${targid_bioinfodb.schema_public}_gene b",
        "WHERE b.species = :species"
      ],
      "replacements": ["schema", "table_name", "entity_name", "data_subtype"],
      "arguments": ["species"]
    },
    "raw_data_table_inverted_column": {
      "idType": "Ensembl",
      "query": [
        "SELECT b.targidid as _id, b.ensg as id, %(data_subtype)s as score ",
        "FROM ${targid_bioinfodb.schema_public}_gene b ",
        "INNER JOIN %(schema)s.targid_%(table_name)s ab ON ab.ensg = b.ensg ",
        "WHERE ab.%(entity_name)s = :entity_value"
      ],
      "replacements": ["schema", "table_name", "entity_name", "data_subtype"],
      "arguments": ["entity_value"]
    },
    "co_expression": {
      "idType": "Ensembl",
      "query": [
        "SELECT c.targidid as _id, a.ensg as id, g.symbol, c.%(entity_name)s, a.%(expression_subtype)s as expression",
        "FROM %(schema)s.targid_expression as a ",
        "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON a.ensg = g.ensg ",
        "INNER JOIN %(schema)s.targid_%(schema)s c ON a.%(entity_name)s = c.%(entity_name)s",
        "WHERE c.tumortype = :tumortype AND a.ensg = :ensg"
      ],
      "arguments": ["ensg", "tumortype"],
      "replacements": ["schema", "entity_name", "expression_subtype"]
    },
    "co_expression_all": {
      "idType": "Ensembl",
      "query": [
        "SELECT c.targidid as _id, a.ensg as id, g.symbol, c.%(entity_name)s, a.%(expression_subtype)s as expression",
        "FROM %(schema)s.targid_expression as a ",
        "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON a.ensg = g.ensg ",
        "INNER JOIN %(schema)s.targid_%(schema)s c ON a.%(entity_name)s = c.%(entity_name)s",
        "WHERE a.ensg = :ensg"
      ],
      "arguments": ["ensg"],
      "replacements": ["schema", "entity_name", "expression_subtype"]
    },
    "expression_vs_copynumber": {
      "idType": "Ensembl",
      "query": [
        "SELECT c.targidid as _id, a.ensg as id, g.symbol, c.%(entity_name)s, a.%(expression_subtype)s as expression, b.%(copynumber_subtype)s as cn",
        "FROM %(schema)s.targid_expression as a ",
        "INNER JOIN %(schema)s.targid_copynumber as b ON a.ensg = b.ensg AND a.%(entity_name)s = b.%(entity_name)s",
        "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON a.ensg = g.ensg ",
        "INNER JOIN %(schema)s.targid_%(schema)s c ON a.%(entity_name)s = c.%(entity_name)s",
        "WHERE c.tumortype = :tumortype AND a.ensg = :ensg"
      ],
      "arguments": ["ensg", "tumortype"],
      "replacements": ["schema", "entity_name", "expression_subtype", "copynumber_subtype"]
    },
    "expression_vs_copynumber_all": {
      "idType": "Ensembl",
      "query": [
        "SELECT c.targidid as _id, a.ensg as id, g.symbol, c.%(entity_name)s, a.%(expression_subtype)s as expression, b.%(copynumber_subtype)s as cn",
        "FROM %(schema)s.targid_expression as a ",
        "INNER JOIN %(schema)s.targid_copynumber as b ON a.ensg = b.ensg AND a.%(entity_name)s = b.%(entity_name)s",
        "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON a.ensg = g.ensg ",
        "INNER JOIN %(schema)s.targid_%(schema)s c ON a.%(entity_name)s = c.%(entity_name)s",
        "WHERE a.ensg = :ensg"
      ],
      "arguments": ["ensg"],
      "replacements": ["schema", "entity_name", "expression_subtype", "copynumber_subtype"]
    },
    "aggregated_score": {
      "idType": "Ensembl",
      "query": [
        "SELECT ensg as id, %(agg)s(%(data_subtype)s) as score ",
        "FROM %(schema)s.targid_%(table_name)s ab ",
        "INNER JOIN %(schema)s.targid_%(schema)s b ON b.%(entity_name)s = ab.%(entity_name)s ",
        "WHERE b.tumortype = :tumortype AND b.species = :species ",
        "GROUP BY ab.ensg"
      ],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype", "agg"],
      "arguments": ["tumortype", "species"]
    },
    "aggregated_score_all": {
      "idType": "Ensembl",
      "query": [
        "SELECT ensg as id, %(agg)s(%(data_subtype)s) as score ",
        "FROM %(schema)s.targid_%(table_name)s ab ",
        "INNER JOIN %(schema)s.targid_%(schema)s b ON b.%(entity_name)s = ab.%(entity_name)s ",
        "WHERE b.species = :species ",
        "GROUP BY ab.ensg"
      ],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype", "agg"],
      "arguments": ["species"]
    },
    "aggregated_score_inverted": {
      "idType": "Tissue",
      "query": [
        "SELECT %(entity_name)s as id, %(agg)s(%(data_subtype)s) as score ",
        "FROM %(schema)s.targid_%(table_name)s ab ",
        "INNER JOIN ${targid_bioinfodb.schema_public}_gene b ON b.ensg = ab.ensg ",
        "WHERE b.biotype = :biotype AND b.species = :species ",
        "GROUP BY ab.%(entity_name)s"
      ],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype", "agg"],
      "arguments": ["biotype", "species"]
    },
    "aggregated_score_inverted_all": {
      "idType": "Tissue",
      "query": [
        "SELECT %(entity_name)s as id, %(agg)s(%(data_subtype)s) as score ",
        "FROM %(schema)s.targid_%(table_name)s ab ",
        "INNER JOIN ${targid_bioinfodb.schema_public}_gene b ON b.ensg = ab.ensg ",
        "WHERE b.species = :species ",
        "GROUP BY ab.%(entity_name)s"
      ],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype", "agg"],
      "arguments": ["species"]
    },
    "frequency_score": {
      "idType": "Ensembl",
      "query": [
        "SELECT a.ensg as id, (coalesce(freq.count,0)+0.0) as count, a.total ",
        "FROM ( ",
          "SELECT COUNT(*) as total, ensg ",
          "FROM %(schema)s.targid_%(table_name)s m ",
          "INNER JOIN %(schema)s.targid_%(schema)s c ON c.%(entity_name)s = m.%(entity_name)s ",
          "WHERE c.tumortype = :tumortype AND c.species = :species ",
          "GROUP BY ensg ",
        ") a ",
        "LEFT JOIN ( ",
          "SELECT COUNT(*) as count, ensg ",
          "FROM %(schema)s.targid_%(table_name)s m ",
          "INNER JOIN %(schema)s.targid_%(schema)s c ON c.%(entity_name)s = m.%(entity_name)s ",
          "WHERE c.tumortype = :tumortype AND %(data_subtype)s %(operator)s %(value)s AND c.species = :species ",
          "GROUP BY ensg ",
        ") freq ",
        "ON freq.ensg = a.ensg"
      ],
      "arguments": ["tumortype", "species"],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype", "operator", "value"]
    },
    "frequency_score_all": {
      "idType": "Ensembl",
      "query": [
        "SELECT a.ensg as id, (coalesce(freq.count,0)+0.0) as count, a.total ",
        "FROM ( ",
          "SELECT COUNT(*) as total, ensg ",
          "FROM %(schema)s.targid_%(table_name)s m ",
          "INNER JOIN %(schema)s.targid_%(schema)s c ON c.%(entity_name)s = m.%(entity_name)s ",
          "WHERE c.species = :species ",
          "GROUP BY ensg",
        ") a ",
        "LEFT JOIN ( ",
          "SELECT COUNT(*) as count, ensg ",
          "FROM %(schema)s.targid_%(table_name)s  m ",
          "INNER JOIN %(schema)s.targid_%(schema)s c ON c.%(entity_name)s = m.%(entity_name)s ",
          "WHERE %(data_subtype)s %(operator)s %(value)s AND c.species = :species ",
          "GROUP BY ensg ",
        ") freq ",
        "ON freq.ensg = a.ensg"
      ],
      "arguments": ["species"],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype", "operator", "value"]
    },
    "frequency_score_inverted": {
      "idType": "Tissue",
      "query": [
        "SELECT a.%(entity_name)s as id, (coalesce(freq.count,0)+0.0) as count, a.total ",
        "FROM ( ",
          "SELECT COUNT(*) as total, %(entity_name)s ",
          "FROM %(schema)s.targid_%(table_name)s m ",
          "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = m.ensg ",
          "WHERE g.biotype = :biotype AND g.species = :species ",
          "GROUP BY %(entity_name)s ",
        ") a",
        "LEFT JOIN ( ",
          "SELECT COUNT(*) as count, %(entity_name)s ",
          "FROM %(schema)s.targid_%(table_name)s m ",
          "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = m.ensg ",
          "WHERE g.biotype = :biotype AND %(data_subtype)s %(operator)s %(value)s AND g.species = :species ",
          "GROUP BY %(entity_name)s ",
        ") freq ",
        "ON freq.%(entity_name)s = a.%(entity_name)s"
      ],
      "arguments": ["biotype", "species"],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype", "operator", "value"]
    },
    "frequency_score_inverted_all": {
      "idType": "Tissue",
      "query": [
        "SELECT a.%(entity_name)s as id, (coalesce(freq.count,0)+0.0) as count, a.total ",
        "FROM ( ",
          "SELECT COUNT(*) as total, %(entity_name)s ",
          "FROM %(schema)s.targid_%(table_name)s m ",
          "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = m.ensg ",
          "WHERE g.species = :species ",
          "GROUP BY %(entity_name)s ",
        ") a ",
        "LEFT JOIN ( ",
          "SELECT COUNT(*) as count, %(entity_name)s ",
          "FROM %(schema)s.targid_%(table_name)s m ",
          "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = m.ensg ",
          "WHERE %(data_subtype)s %(operator)s %(value)s AND g.species = :species ",
          "GROUP BY %(entity_name)s ",
        ") freq",
        "ON freq.%(entity_name)s = a.%(entity_name)s"
      ],
      "arguments": ["species"],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype", "operator", "value"]
    },
    "mutation_frequency": {
      "idType": "Ensembl",
      "query": [
        "SELECT a.ensg as id, (coalesce(mut.mutated,0)+0.0) as count, a.total ",
        "FROM ( ",
          "SELECT COUNT(*) as total, ensg ",
          "FROM %(schema)s.targid_mutation m ",
          "INNER JOIN %(schema)s.targid_%(schema)s c ON c.%(entity_name)s = m.%(entity_name)s ",
          "WHERE c.tumortype = :tumortype AND c.species = :species ",
          "GROUP BY ensg ",
        ") a ",
        "LEFT JOIN ( ",
          "SELECT COUNT(*) as mutated, ensg ",
          "FROM %(schema)s.targid_mutation m ",
          "INNER JOIN %(schema)s.targid_%(schema)s c ON c.%(entity_name)s = m.%(entity_name)s ",
          "WHERE c.tumortype = :tumortype AND %(data_subtype)s = 'true' AND c.species = :species ",
          "GROUP BY ensg ",
        ") mut ",
        "ON mut.ensg = a.ensg"
      ],
      "arguments": ["tumortype", "species"],
      "replacements": ["schema", "entity_name", "data_subtype"]
    },
    "mutation_frequency_all": {
      "idType": "Ensembl",
      "query": [
        "SELECT a.ensg as id, (coalesce(mut.mutated,0)+0.0) as count, a.total ",
        "FROM ( ",
          "SELECT COUNT(*) as total, ensg ",
          "FROM %(schema)s.targid_mutation m ",
          "INNER JOIN %(schema)s.targid_%(schema)s c ON c.%(entity_name)s = m.%(entity_name)s ",
          "WHERE c.species = :species ",
          "GROUP BY ensg ",
        ") a ",
        "LEFT JOIN ( ",
          "SELECT COUNT(*) as mutated, ensg ",
          "FROM %(schema)s.targid_mutation m ",
          "INNER JOIN %(schema)s.targid_%(schema)s c ON c.%(entity_name)s = m.%(entity_name)s ",
          "WHERE %(data_subtype)s = 'true' AND c.species = :species ",
          "GROUP BY ensg ",
        ") mut ",
        "ON mut.ensg = a.ensg"
      ],
      "arguments": ["species"],
      "replacements": ["schema", "entity_name", "data_subtype"]
    },
    "mutation_frequency_inverted": {
      "idType": "Ensembl",
      "query": [
        "SELECT a.%(entity_name)s as id, (coalesce(mut.mutated,0)+0.0) as count, a.total ",
        "FROM ( ",
          "SELECT COUNT(*) as total, %(entity_name)s ",
          "FROM %(schema)s.targid_mutation m ",
          "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = m.ensg ",
          "WHERE g.biotype = :biotype AND g.species = :species ",
          "GROUP BY %(entity_name)s ",
        ") a ",
        "LEFT JOIN ( ",
          "SELECT COUNT(*) as mutated, %(entity_name)s ",
          "FROM %(schema)s.targid_mutation m ",
          "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = m.ensg ",
          "WHERE g.biotype = :biotype AND %(data_subtype)s = 'true' AND g.species = :species ",
          "GROUP BY %(entity_name)s",
        ") mut ",
        "ON mut.%(entity_name)s = a.%(entity_name)s"
      ],
      "arguments": ["biotype", "species"],
      "replacements": ["schema", "entity_name", "data_subtype"]
    },
    "mutation_frequency_inverted_all": {
      "idType": "Ensembl",
      "query": [
        "SELECT a.%(entity_name)s as id, (coalesce(mut.mutated,0)+0.0) as count, a.total ",
        "FROM ( ",
          "SELECT COUNT(*) as total, %(entity_name)s ",
          "FROM %(schema)s.targid_mutation m ",
          "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = m.ensg ",
          "WHERE g.species = :species ",
          "GROUP BY %(entity_name)s ",
        ") a ",
        "LEFT JOIN ( ",
          "SELECT COUNT(*) as mutated, %(entity_name)s ",
          "FROM %(schema)s.targid_mutation m ",
          "INNER JOIN ${targid_bioinfodb.schema_public}_gene g ON g.ensg = m.ensg ",
          "WHERE %(data_subtype)s = 'true' AND g.species = :species ",
          "GROUP BY %(entity_name)s",
        ") mut ",
        "ON mut.%(entity_name)s = a.%(entity_name)s"
      ],
      "arguments": ["species"],
      "replacements": ["schema", "entity_name", "data_subtype"]
    },
    "single_entity_lookup": {
      "query": "SELECT targidid as _id, %(id_column)s as id, %(query_column)s as text FROM %(schema)s.targid_%(table_name)s WHERE species = :species AND LOWER(%(query_column)s) LIKE :query ORDER BY %(query_column)s ASC LIMIT %(limit)s OFFSET %(offset)s",
      "count": "SELECT COUNT(*) as total_count FROM %(schema)s.targid_%(table_name)s WHERE species = :species AND LOWER(%(query_column)s) LIKE :query",
      "replacements": ["schema", "table_name", "query_column", "id_column", "limit", "offset"],
      "arguments": ["query", "species"]
    },
    "single_entity_score": {
      "idType": "Ensembl",
      "query": [
        "SELECT ensg as id, %(data_subtype)s as score ",
        "FROM %(schema)s.targid_%(table_name)s ",
        "WHERE %(entity_name)s = :entity_value"
      ],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype"],
      "arguments": ["entity_value"]
    },
    "single_entity_score_inverted": {
      "idType": "Cellline",
      "query": [
        "SELECT %(entity_name)s as id, %(data_subtype)s as score ",
        "FROM %(schema)s.targid_%(table_name)s ",
        "WHERE ensg = :entity_value"
      ],
      "replacements": ["schema", "entity_name", "table_name", "data_subtype"],
      "arguments": ["entity_value"]
    }
  },
  "mappings": {
    "Cellline": "SELECT celllinename as id, targidid as _id FROM ${targid_bioinfodb.schema_cellline}_cellline ORDER BY celllinename ASC",
    "Tissue": "SELECT tissuename as id, targidid as _id FROM ${targid_bioinfodb.schema_tissue}_tissue ORDER BY tissuename ASC",
    "Ensembl": "SELECT ensg as id, targidid as _id FROM ${targid_bioinfodb.schema_public}_gene ORDER BY symbol ASC"
  }
}
